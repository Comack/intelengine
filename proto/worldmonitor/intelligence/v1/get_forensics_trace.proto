syntax = "proto3";

package worldmonitor.intelligence.v1;

import "buf/validate/validate.proto";
import "worldmonitor/intelligence/v1/forensics.proto";

// GetForensicsTraceRequest retrieves phase-level execution trace for a run.
message GetForensicsTraceRequest {
  // Run id.
  string run_id = 1 [
    (buf.validate.field).required = true,
    (buf.validate.field).string.min_len = 1
  ];
}

// GetForensicsTraceResponse returns run metadata and phase trace.
message GetForensicsTraceResponse {
  // Run metadata.
  ForensicsRunMetadata run = 1;
  // Phase trace.
  repeated ForensicsPhaseTrace trace = 2;
  // Error message if retrieval failed.
  string error = 3;
}
